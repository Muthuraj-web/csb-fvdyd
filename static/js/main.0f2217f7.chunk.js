(this.webpackJsonppacman=this.webpackJsonppacman||[]).push([[0],{10:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var i=n(2),a=n(12),r=n.n(a),c=n(1),o=n(5),s=n(7),h=n(8),u=function(){function t(e,n){Object(s.a)(this,t),this.height=e,this.width=n,this.root=[],this.rank=[];for(var i=0;i<e;i++){for(var a=[],r=[],c=0;c<n;c++)a.push([i,c]),r.push(0);this.root.push(a),this.rank.push(r)}}return Object(h.a)(t,[{key:"find",value:function(t,e){return this.root[t][e][0]===t&&this.root[t][e][1]===e?Object(o.a)(this.root[t][e]):(this.root[t][e]=this.find(this.root[t][e][0],this.root[t][e][1]),this.root[t][e])}},{key:"union",value:function(t,e){var n=Object(c.a)(t,2),i=n[0],a=n[1],r=Object(c.a)(e,2),s=r[0],h=r[1],u=this.find(i,a),l=this.find(s,h),d=Object(c.a)(u,2),j=d[0],b=d[1],p=Object(c.a)(l,2),f=p[0],O=p[1];j===f&&b===O||(this.rank[j][b]<this.rank[f][O]?this.root[j][b]=Object(o.a)(l):this.rank[j][b]>this.rank[f][O]?this.root[f][O]=Object(o.a)(u):(this.root[j][b]=Object(o.a)(l),this.rank[f][O]+=1))}}]),t}(),l=function(){function t(e){Object(s.a)(this,t),this.numtoGrid=new Map,this.gridtonum=new Map,this.dp=[],this.nextMoveNode=[],this.populate(e),this.markNeighbs(e),this.applyAlgorithm()}return Object(h.a)(t,[{key:"isValid",value:function(t,e,n){return t>=0&&t<n.length&&e>=0&&e<n[0].length}},{key:"populate",value:function(t){for(var e=0;e<t.length;e++)for(var n=0;n<t[0].length;n++)if(1!==t[e][n]){var i=Object.keys(this.numtoGrid).length;this.numtoGrid[i]=[e,n],this.gridtonum[[e,n]]=i}for(var a=0;a<Object.keys(this.numtoGrid).length;a++){for(var r=[],c=0;c<Object.keys(this.numtoGrid).length;c++)r.push(a===c?0:1/0);this.dp.push(r),this.nextMoveNode.push(new Array(r.length))}}},{key:"markNeighbs",value:function(t){for(var e=[[1,0],[0,1],[-1,0],[0,-1]],n=0;n<t.length;n++)for(var i=0;i<t[0].length;i++)if(1!==t[n][i])for(var a=this.gridtonum[[n,i]],r=0;r<e.length;r++){var o=Object(c.a)(e[r],2),s=o[0],h=o[1];if(this.isValid(n+s,i+h,t)&&1!==t[n+s][i+h]){var u=this.gridtonum[[n+s,i+h]];this.dp[a][u]=1}}}},{key:"applyAlgorithm",value:function(){for(var t=0;t<this.dp.length;t++)for(var e=0;e<this.dp.length;e++)for(var n=0;n<this.dp.length;n++)e!==n&&(1!==this.dp[e][n]?this.dp[e][n]>this.dp[e][t]+this.dp[t][n]&&(this.dp[e][n]=this.dp[e][t]+this.dp[t][n],this.nextMoveNode[e][n]=this.nextMoveNode[e][t]):this.nextMoveNode[e][n]=n)}},{key:"giveNextMove",value:function(t,e){var n=this.gridtonum[t],i=this.gridtonum[e],a=this.nextMoveNode[n][i];return this.numtoGrid[a]}}]),t}(),d=n(0);function j(){return Object(d.jsx)("div",{children:Object(d.jsx)("h2",{children:"LOADING......"})})}n(10);function b(t){var e=t.points,n=(t.loading,t.setLoading),a=t.setTimerToggle,r=t.timerToggle,o=Object(i.useState)(!1),s=Object(c.a)(o,2),h=s[0],u=s[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"YOUR SCORE........"}),Object(d.jsx)("h5",{children:e}),Object(d.jsx)("button",{disabled:h,className:"scorecontainer-button",onClick:function(){u(!0),n(!0),a(!r)},children:Object(d.jsx)("p",{children:"RESET GAME"})})]})}function p(t){var e=t.setLoading,n=(t.isGameEnd,t.points),i=t.loading,a=t.setTimerToggle,r=t.timerToggle;return i?Object(d.jsx)(j,{}):Object(d.jsx)(b,{points:n,setLoading:e,setTimerToggle:a,timerToggle:r})}var f=n(3);function O(t){var e=t.grid,n=t.gridRef,i=t.updatePlayerDirection,a=t.cellSize,r=(t.width,t.height,t.direction),c={width:a,height:a},o=e.length,s=function(t,n){return t>=0&&t<e.length&&n>=0&&n<e[0].length},h=function(t,n){var i=[];return s(t-1,n)&&1!==e[t-1][n]&&i.push("pacman-block-top"),s(t+1,n)&&1!==e[t+1][n]&&i.push("pacman-block-bottom"),s(t,n-1)&&1!==e[t][n-1]&&i.push("pacman-block-left"),s(t,n+1)&&1!==e[t][n+1]&&i.push("pacman-block-right"),i.join(" ")};return Object(d.jsx)("div",{className:"pacman-container",ref:n,onKeyDown:function(t){i(t)},tabIndex:-1,children:e.map((function(t,n){return Object(d.jsx)("div",{className:"pacman-row",children:t.map((function(t,i){return 1===e[n][i]?Object(d.jsx)("div",{className:"pacman-block ".concat(h(n,i)),style:Object(f.a)({},c)},o++):0===e[n][i]?Object(d.jsx)("div",{style:Object(f.a)({},c),children:Object(d.jsx)("div",{className:"pacman-food",children:"*"})},o++):2===e[n][i]?Object(d.jsx)("div",{style:Object(f.a)({},c),children:Object(d.jsx)("img",{alt:"pacman-ghost",src:"https://muthuraj-web.github.io/csb-fvdyd/pacman-ghost.webp",style:Object(f.a)({},c)})},o++):3===e[n][i]?Object(d.jsx)("div",{style:Object(f.a)({},c),children:Object(d.jsx)("img",{alt:"pacman-player",className:"pacman-player ".concat(0===r[0]&&0===r[1]||0===r[0]&&1===r[1]?" ":0===r[0]&&-1===r[1]?"pacman-player-left":-1===r[0]&&0===r[1]?"pacman-player-top":"pacman-player-bottom"),src:"https://muthuraj-web.github.io/csb-fvdyd/pacman-player.webp",style:Object(f.a)({},c)})},o++):Object(d.jsx)("div",{className:"pacman-empty",style:c},o++)}))},n)}))})}var g=n(11),v=n.n(g);function m(t){var e=t.cellSize,n=t.villainCount,a=Math.floor((window.innerWidth-30)/e),r=Math.floor((window.innerHeight-30)/e),o=Object(i.useState)([]),s=Object(c.a)(o,2),h=s[0],j=s[1],b=Object(i.useState)([]),f=Object(c.a)(b,2),g=f[0],m=f[1],y=Object(i.useState)([]),w=Object(c.a)(y,2),x=w[0],k=w[1],M=Object(i.useState)([0,0]),N=Object(c.a)(M,2),S=N[0],T=N[1],G=Object(i.useState)([]),A=Object(c.a)(G,2),E=A[0],D=A[1],P=Object(i.useState)({}),R=Object(c.a)(P,2),L=R[0],z=R[1],C=Object(i.useState)(!0),V=Object(c.a)(C,2),I=V[0],F=V[1],J=Object(i.useState)(!1),B=Object(c.a)(J,2),H=B[0],K=B[1],U=Object(i.useState)(0),W=Object(c.a)(U,2),Y=W[0],q=W[1],Q=Object(i.useState)(0),X=Object(c.a)(Q,2),Z=X[0],$=X[1],_=Object(i.useState)(!1),tt=Object(c.a)(_,2),et=tt[0],nt=tt[1],it=Object(i.useRef)(null);Object(i.useEffect)((function(){return I||H?at():ot()}),[et]);var at=function(){var t=ct(r,a),e=t.newGrid,n=t.newFoodsArr,i=t.newPlayer,c=t.newVillains,o=t.newMaxPoints,s=new l(e);j(e),m(n),k(i),T([0,0]),D(c),z(s),F(!1),K(!1),q(o),$(0),setTimeout((function(){nt(!et)}),500)},rt=function(t,e){return Math.max(0,Math.ceil(Math.random()*(e-t)+t)-1)},ct=function(t,e){for(var i=new u(t,e),a=function(t,e,n,a){var r=i.find(t,e),o=Object(c.a)(r,2),s=o[0],h=o[1],u=i.find(n,a),l=Object(c.a)(u,2),d=l[0],j=l[1];return s===d&&h===j},r=[],o=[],s=0;s<t;s++)o.push(new Array(e)),r.push(new Array(e));for(var h=[],l=0;l<n+1;l++){for(var d=rt(0,t),j=rt(0,e);2===o[d][j];)d=rt(0,t),j=rt(0,e);o[d][j]=2,l===n&&(o[d][j]=3),h.push([d,j])}for(var b=0,p=0;p<t;p++)for(var f=0;f<e;f++)if(2!==o[p][f]&&3!==o[p][f]){if(0===p||p===t-1||0===f||f===e-1||o[p-1][f-1]&&o[p-1][f+1]&&a(p-1,f-1,p-1,f+1)||o[p][f-1]&&o[p-1][f+1]&&a(p,f-1,p-1,f+1)?o[p][f]=0:o[p][f]=rt(0,2),r[p][f]=!0,o[p][f]){var O=[[p,f-1],[p-1,f-1],[p-1,f],[p-1,f+1]];for(var g in O){var v=Object(c.a)(O[g],2),m=v[0],y=v[1];o[m][y]&&i.union(O[g],[p,f])}r[p][f]=!1}b+=o[p][f]?0:1}return{newGrid:o,newFoodsArr:r,newPlayer:h[h.length-1],newVillains:h.slice(0,-1),newMaxPoints:b}},ot=function(){for(var t=v.a.cloneDeep(h),e=v.a.cloneDeep(g),n=x,i=[],a=Z,r=0;r<E.length;r++)if(x[0]===E[r][0]&&x[1]===E[r][1]||Y===Z)return K(!0);var o=x[0]+S[0],s=x[1]+S[1];(function(t,e){return t>=0&&t<h.length&&e>=0&&e<h[0].length&&1!==h[t][e]&&2!==h[t][e]})(o,s)&&(0===h[o][s]&&(a+=1),t[x[0]][x[1]]=4,t[o][s]=3,e[o][s]=!1,n[0]=o,n[1]=s);for(var u=0;u<E.length;u++){var l=Object(c.a)(E[u],2),d=l[0],b=l[1],p=L.giveNextMove(E[u],x),f=Object(c.a)(p,2),O=f[0],y=f[1];0===i.length||2!==h[O][y]?(i.push([O,y]),t[O][y]=2,t[d][b]=e[d][b]?0:4):(i.push([d,b]),t[d][b]=2)}it.current.focus(),j(t),m(e),D(i),k(n),$(a),setTimeout((function(){nt(!et)}),500)};return Object(d.jsx)("div",{className:"outer-container",children:I||H?Object(d.jsx)(p,{points:Z,reset:at,setLoading:F,setTimerToggle:nt,timerToggle:et,loading:I,isGameEnd:H}):Object(d.jsx)(O,{grid:h,cellSize:e,width:a,height:r,gridRef:it,updatePlayerDirection:function(t){37===t.which?T([0,-1]):38===t.which?T([-1,0]):39===t.which?T([0,1]):T([1,0])},direction:S})})}var y=document.getElementById("root");r.a.render(Object(d.jsx)(i.StrictMode,{children:Object(d.jsx)(m,{cellSize:25,villainCount:5})}),y)}},[[20,1,2]]]);
//# sourceMappingURL=main.0f2217f7.chunk.js.map